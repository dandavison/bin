#!/usr/bin/env python
import os
import re
import sys

path, text_after = sys.argv[1:]
[line_num] = re.compile(".+ line (\d+), ").match(text_after).groups()
line_num = int(line_num)

with open('/tmp/parse-python-traceback-file-position', 'a') as fp:
    fp.write("%s:%d\n" % (path, line_num))

os.system("""
emacsclient --no-wait \
    --eval "(find-file \\"%s\\")" \
    --eval "(goto-line %d)"
""" % (path, line_num))
